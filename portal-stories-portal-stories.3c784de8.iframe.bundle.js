"use strict";(self.webpackChunkmd3_ui=self.webpackChunkmd3_ui||[]).push([[109],{"./packages/portal/stories/portal.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Basic:()=>Basic,WithMountRef:()=>WithMountRef,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _Basic$parameters,_WithMountRef$paramet,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_src__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/portal/src/portal.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}const __WEBPACK_DEFAULT_EXPORT__={title:"Utils/Portal",component:_src__WEBPACK_IMPORTED_MODULE_2__.h};var Basic=function Basic(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("p",{children:"Welcome"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_src__WEBPACK_IMPORTED_MODULE_2__.h,{children:"This text has been portaled"})]})},WithMountRef=function WithMountRef(){var ref=react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("p",{children:"Welcome"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_src__WEBPACK_IMPORTED_MODULE_2__.h,{containerRef:ref,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("span",{children:"This text has been portaled"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{id:"iframe",ref,children:"Portal Div"})]})};Basic.parameters=_extends({},Basic.parameters,{storySource:_extends({source:"() => <>\n    <p>Welcome</p>\n    <Portal>This text has been portaled</Portal>\n  </>"},null==(_Basic$parameters=Basic.parameters)?void 0:_Basic$parameters.storySource)}),WithMountRef.parameters=_extends({},WithMountRef.parameters,{storySource:_extends({source:'() => {\n  const ref = React.useRef<HTMLDivElement>(null);\n  return <>\n      <p>Welcome</p>\n      <Portal containerRef={ref}>\n        <span>This text has been portaled</span>\n      </Portal>\n      <div id="iframe" ref={ref}>\n        Portal Div\n      </div>\n    </>;\n}'},null==(_WithMountRef$paramet=WithMountRef.parameters)?void 0:_WithMountRef$paramet.storySource)});var __namedExportsOrder=["Basic","WithMountRef"]},"./packages/hooks/src/use-enhanced-effect.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{P:()=>useEnhancedEffect});var _md3_ui_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/utils/src/assertion.ts"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),useEnhancedEffect=_md3_ui_utils__WEBPACK_IMPORTED_MODULE_1__.jU||_md3_ui_utils__WEBPACK_IMPORTED_MODULE_1__.tY?react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect:react__WEBPACK_IMPORTED_MODULE_0__.useEffect},"./packages/hooks/src/use-fork-ref.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{c:()=>useForkRef,k:()=>setRef});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function setRef(ref,value){"function"==typeof ref?ref(value):ref&&(ref.current=value)}function useForkRef(refA,refB){return react__WEBPACK_IMPORTED_MODULE_0__.useMemo((function(){return null==refA&&null==refB?null:function(refValue){setRef(refA,refValue),setRef(refB,refValue)}}),[refA,refB])}},"./packages/portal/src/portal.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{h:()=>Portal});var use_fork_ref=__webpack_require__("./packages/hooks/src/use-fork-ref.ts"),react=__webpack_require__("./node_modules/react/index.js");function useForceUpdate(){var unloadingRef=react.useRef(!1),_React$useState=react.useState(0),count=_React$useState[0],setCount=_React$useState[1];return function useUnmountEffect(fn,deps){return void 0===deps&&(deps=[]),react.useEffect((function(){return function(){return fn()}}),deps)}((function(){unloadingRef.current=!0})),react.useCallback((function(){unloadingRef.current||setCount(count+1)}),[count])}var use_enhanced_effect=__webpack_require__("./packages/hooks/src/use-enhanced-effect.ts"),assertion=__webpack_require__("./packages/utils/src/assertion.ts"),findNodeHandle=__webpack_require__("./node_modules/react-native-web/dist/exports/findNodeHandle/index.js"),src_context=__webpack_require__("./packages/portal/src/context.tsx"),react_dom=__webpack_require__("./node_modules/react-dom/index.js"),Platform=__webpack_require__("./node_modules/react-native-web/dist/exports/Platform/index.js"),createNativePortal=function createNativePortal(){return null};try{"web"!==Platform.Z.OS&&(createNativePortal=Object(function webpackMissingModule(){var e=new Error("Cannot find module 'react-native/Libraries/Renderer/shims/ReactNative'");throw e.code="MODULE_NOT_FOUND",e}()))}catch(_unused){}var Portal=react.forwardRef((function(_ref,ref){var children=_ref.children,containerRef=_ref.containerRef,_ref$disablePortal=_ref.disablePortal,disablePortal=void 0!==_ref$disablePortal&&_ref$disablePortal,context=react.useContext(src_context.w),_React$useState=react.useState(),mountNode=_React$useState[0],setMountNode=_React$useState[1],handleRef=(0,use_fork_ref.c)(react.isValidElement(children)?children.ref:null,ref),forceUpdate=useForceUpdate();return(0,use_enhanced_effect.P)((function(){forceUpdate()}),[]),(0,use_enhanced_effect.P)((function(){var _containerRef$current;disablePortal||setMountNode((0,findNodeHandle.Z)(null!=(_containerRef$current=null==containerRef?void 0:containerRef.current)?_containerRef$current:context.rootRef.current))}),[null==containerRef?void 0:containerRef.current,disablePortal]),(0,use_enhanced_effect.P)((function(){return mountNode&&!disablePortal?((0,use_fork_ref.k)(ref,mountNode),function(){(0,use_fork_ref.k)(ref,null)}):function(){}}),[ref,mountNode,disablePortal]),disablePortal?react.isValidElement(children)?react.cloneElement(children,{ref:handleRef}):children:mountNode?function createPortal(children,container){return"web"===Platform.Z.OS?react_dom.createPortal(children,container):createNativePortal(children,container)}(children,mountNode):null}));assertion.Ts&&(Portal.displayName="Portal");try{Portal.displayName="Portal",Portal.__docgenInfo={description:"",displayName:"Portal",props:{containerRef:{defaultValue:null,description:"",name:"containerRef",required:!1,type:{name:"RefObject<any>"}},disablePortal:{defaultValue:{value:"false"},description:"",name:"disablePortal",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/portal/src/portal.tsx#Portal"]={docgenInfo:Portal.__docgenInfo,name:"Portal",path:"packages/portal/src/portal.tsx#Portal"})}catch(__react_docgen_typescript_loader_error){}}}]);